{% extends "base.html" %} {% block title %}Greenhouse Condition Data Form{%
endblock %} {% block content %} {% include "navbar.html" %}

<div class="card shadow-lg border-0 rounded-4">
  <!-- Header -->
  <div
    class="card-header d-flex justify-content-between align-items-center bg-white rounded-top-4 border-bottom"
    style="color: #2c3e50"
  >
    <div>
      <h4 class="mb-0 text-success">Greenhouse Condition Data</h4>
      <small class="text-muted">Environmental Control & Management</small>
    </div>
  </div>

  <!-- Body -->
  <div class="card-body">
    <!-- Progress -->
    <div class="progress mb-4" style="height: 20px">
      <div
        id="progressBar"
        class="progress-bar bg-success"
        role="progressbar"
        style="width: 0%"
      >
        Step <span id="stepNumber">1</span> of 5
      </div>
    </div>

    <form method="POST" id="wizardForm">
      <!-- Step 1 -->
      <div class="form-step active">
        <h5 class="mb-3">Step 1: General Info</h5>
        <div class="mb-3">
          <label class="form-label">Date</label>
          <input type="date" class="form-control" name="date" required />
        </div>
        <div class="mb-3">
          <label class="form-label">Greenhouse ID / Location</label>
          <input type="text" class="form-control" name="location" required />
        </div>
      </div>

      <!-- Step 2 -->
      <div class="form-step">
        <h5 class="mb-3">Step 2: Temperature</h5>
        <div class="row g-3">
          <div class="col-12 col-md-4">
            <label class="form-label">Minimum Temperature (°C)</label>
            <input
              type="number"
              class="form-control"
              id="gh_temp_min"
              name="temp_min"
              step="0.1"
            />
          </div>
          <div class="col-12 col-md-4">
            <label class="form-label">Maximum Temperature (°C)</label>
            <input
              type="number"
              class="form-control"
              id="gh_temp_max"
              name="temp_max"
              step="0.1"
            />
          </div>
          <div class="col-12 col-md-4">
            <label class="form-label">Average Temperature (°C)</label>
            <input
              type="number"
              class="form-control"
              id="gh_temp_avg"
              name="temp_avg"
              step="0.1"
              readonly
            />
          </div>
        </div>
      </div>

      <!-- Step 3 -->
      <div class="form-step">
        <h5 class="mb-3">Step 3: Humidity & Light</h5>
        <div class="row g-3">
          <div class="col-12 col-md-6">
            <label class="form-label">Relative Humidity (%)</label>
            <input
              type="number"
              class="form-control"
              name="humidity"
              min="0"
              max="100"
              step="0.1"
            />
          </div>
          <div class="col-12 col-md-6">
            <label class="form-label">Light Intensity (lux or μmol/m²/s)</label>
            <input type="text" class="form-control" name="light_intensity" />
          </div>
        </div>
      </div>

      <!-- Step 4 -->
      <div class="form-step">
        <h5 class="mb-3">Step 4: Spray & Inoculum</h5>
        <div class="mb-3">
          <label class="form-label">Inoculum Concentration (spores/ml)</label>
          <input type="text" class="form-control" name="inoculum" />
        </div>
        <div class="row g-3">
          <div class="col-12 col-md-6">
            <label class="form-label">Spray Timing (HH:MM)</label>
            <input type="time" class="form-control" name="spray_timing" />
          </div>
          <div class="col-12 col-md-6">
            <label class="form-label">Spray Frequency (per week)</label>
            <input
              type="number"
              class="form-control"
              name="spray_frequency"
              min="0"
            />
          </div>
        </div>
      </div>

      <!-- Step 5 -->
      <div class="form-step">
        <h5 class="mb-3">Step 5: Observations</h5>
        <div class="mb-3">
          <label class="form-label">Additional Observations / Notes</label>
          <textarea class="form-control" name="notes" rows="3"></textarea>
        </div>
      </div>

      <!-- Buttons -->
      <div class="d-flex justify-content-between mt-4">
        <button
          type="button"
          id="prevBtn"
          class="btn btn-outline-secondary rounded-pill"
          disabled
        >
          ← Previous
        </button>
        <button type="button" id="nextBtn" class="btn btn-primary rounded-pill">
          Next →
        </button>
      </div>
    </form>
  </div>
</div>

<script src="{{ url_for('static', filename='wizard.js') }}"></script>
{% endblock %}
